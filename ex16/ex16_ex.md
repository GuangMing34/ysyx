question 1:
use local variable in function

question 2:
use struct varable rather than struct pointer

question 3:
maybe use global struct variable.
or just use struct as function parameter